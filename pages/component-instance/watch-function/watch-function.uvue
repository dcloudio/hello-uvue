<template>
  <view class="page">
    <view class="row">
      <text>初始值</text>
      <text class="init-value">init</text>
    </view>
    <view class="row">
      <text>val</text>
      <text>{{ val }}</text>
    </view>
    <view class="row">
      <text>值是否变化</text>
      <text>{{ changed }}</text>
    </view>
  </view>
</template>

<script lang="ts">
function sleep(timer: number = 1000, cb: () => void): void {
  setTimeout(() => {
    cb()
  }, timer)
}

export default {
  data() {
    return {
      val: "init",
      changed: false,
      // a: 'a',
      // b: 'b',
      // abChanged: false
    }
  },
  mounted() {
    this.createWatch()
    // this.createGetterWatch()
  },
  methods: {
    createWatch() {
      this.$watch('val', () => {
        this.changed = !this.changed
      })

      this.val = 'changed'
    },
    // createGetterWatch () {
    //   this.$watch(() => this.a + this.b, () => {
    //     this.abChanged = !this.abChanged
    //   })
    //
    //   this.a = 'changed'
    // }
  }
}
</script>

<style>
.page {
  font-size: 16px;
}

.row {
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  margin-bottom: 10px;
}
</style>
